<!DOCTYPE html>
<html>
    <head>
        <title>ORIGAM Documentation : Adding fields to an entity</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ORIGAM Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Enterprise-Home_589829.html">ORIGAM Enterprise Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_11731087.html">Tutorials</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ORIGAM Documentation : Adding fields to an entity
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Zuzana Čapková</span>, last modified on Feb 12, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><span><a href="Fields_7831743.html">Fields </a>are mapped to columns in databases. They can also be displayed in <a href="Screen-Sections_4620339.html">screen sections</a> and therefore in the web application. There are several <a href="Field-Types_8290499.html">types of fields</a>. In this tutorial you will learn how to add different types of fields to your entity.<br/></span></p><div><style type='text/css'>/*<![CDATA[*/
div.rbtoc1656534818881 {padding: 0px;}
div.rbtoc1656534818881 ul {list-style: none !important;margin-left: 0px;}
div.rbtoc1656534818881 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1656534818881'>
<ul class='toc-indentation'>
<li><a href='#Addingfieldstoanentity-DatabaseField'>Database Field</a></li>
<li><a href='#Addingfieldstoanentity-VirtualField'>Virtual Field</a></li>
<li><a href='#Addingfieldstoanentity-FunctionCallField'>Function Call Field</a></li>
<li><a href='#Addingfieldstoanentity-AggregatedField'>Aggregated Field</a></li>
<li><a href='#Addingfieldstoanentity-LookupField'>Lookup Field</a></li>
</ul>
</div></div><h3 id="Addingfieldstoanentity-DatabaseField"><span class="confluence-link">Database Field<br/></span></h3><ol><li style="text-align: left;"><span><a href="Database-Field_7832054.html">Database fields</a> are mapped to physical database columns. Open your project in the Model Browser view and expand <strong>Data</strong> &gt; <strong>Entities</strong> &gt; <strong>YourProjectName</strong>. Now you can see all entities in your project. Right-click on the entity to which you want to add a field and select<strong> New</strong> &gt; <strong>Database Field</strong>. You can also reach the menu when you open the entity by a double-click or a right-click and selecting <strong>Edit item</strong>.</span><br/><span> </span><span><br/></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731118#</span><br/><br/></li><li><p><span>Now you can fill in the field attributes. The field is referenced in the model by <strong>Name</strong> (remember to keep with the <a href="https://en.wikipedia.org/wiki/Naming_convention_(programming)"  >naming conventions</a>). <strong>Caption</strong> is used as a description for users in <a href="Screens_4620329.html">screens </a>in the web application. <strong>AllowsNulls</strong> attribute is as a default set to <code>True</code> (the field can remain empty).</span></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">Note that when you set a field as <strong>AllowsNulls</strong>=<code>False</code>, the field name in the Model Browser is in bold letters.</div></div><p style="text-align: left;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731119#</span><br/><br/></p></li><li><p style="text-align: left;"><span>Another important attribute is <a href="Data-Types_7831671.html"><strong>DataType</strong></a>. If you select <code>String</code>, don't forget to also fill the <strong>DataLength</strong> field. After filling all desired attributes, save the changes.</span><br/><span><br/></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731120#</span></p></li></ol><h3 id="Addingfieldstoanentity-VirtualField"><span class="confluence-link">Virtual Field<br/></span></h3><p style="margin-left: 30.0px;"><a href="Virtual-Field_7832056.html">Virtual field</a> has the same attributes as the database field, but it is not mapped to a physical database field. The steps are the same as when creating a database field, only in the first step select <span><strong>New</strong> &gt; <strong>Virtual Field</strong>.</span></p><h3 id="Addingfieldstoanentity-FunctionCallField">Function Call Field</h3><ol><li style="text-align: left;"><span>Another type of field you can choose is the <a href="Function-Call-Field_7832058.html">function call field</a>. You can follow the first step as when creating a database field, only in the first step select <span><strong>New</strong> &gt; </span><strong>Function Call</strong>. But once you have added a field to your entity, a new subfolder <strong>Fields</strong> will appear. You can also add new fields by a right-click on <strong>Fields</strong> &gt; <strong>New</strong> &gt; <strong>Function Call</strong>.</span><br/><span><br/></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731127#</span><br/><br/></li><li><span>Repeating steps 2 and 3 from creating a database field fill in the relevant attributes. Then from the drop-down list select the needed <strong><a href="Functions_4620347.html">Function</a></strong> and save.</span><br/><span><br/></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731128#</span><br/><br/></li><li><span>Depending on the function you have chosen, function parameters will appear in the Model Browser under the element and </span>you must pass some values to them. In case of the <a href="Concat-Function_7831703.html">Concat Function</a>, you have to add some strings for the function to concatenate. Right-click on <strong>Strings</strong> and select <strong>New </strong>&gt;<strong> Field Reference</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:11731129#</span><span> </span><br/><span><br/></span></li><li><span> Fill in the <strong>Name</strong> of the element. Remember that the fields are concatenated in alphabetical order, so choose the names according to the desired order. Select the <strong>Field</strong> that will be used as a reference and save. Repeat steps 3 and 4 for all fields you want to include in the concatenation.</span><br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124166#</span></li></ol><h3 id="Addingfieldstoanentity-AggregatedField">Aggregated Field</h3><ol><li>Another field type - the <a href="Aggregated-Field_7832060.html">aggregated field</a> - creates a calculated field using an aggregate function (Count, Sum, Average, Minimum and Maximum). First you must create a relation to the entity that contains the fields you want to summarize. Right-click on the entity that will contain the aggregated field and select <strong>New</strong> &gt; <strong>Relationship</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124194#</span><br/><br/></li><li>From the drop-down list select the <strong>RelatedEntity</strong>. The field<strong> Name</strong> will be automatically filled with the name of the related entity, but you can change it.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124195#</span><br/><br/></li><li>After saving you have to add a <a href="Relationship-Key_8290523.html">Relationship Key</a>. Right-click on the relationship and select <strong>New</strong> &gt; <strong>Key</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124232#</span><br/><br/></li><li>The model editor will open. The field<strong> Name</strong> will be automatically filled with the name of the related entity, but you can change it. As the <strong>BaseEntityField</strong> select <code>Id</code> and as the <strong>RelatedEntityField</strong> select the corresponding field from the related entity, i.e. a foreign key in the related entity that is linked to the Id of the base entity (you can find a step by step tutorial for creating a foreign key <a href="https://origam.com/doc/display/architect/Creating+a+foreign+key"  >here</a>). Save.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124233#</span><br/><br/></li><li>In case that you don't already have two entities (and database tables) but only one, you can also use the <strong>Create child entity</strong> wizard. Right-click on the name of the parent entity and select <strong>Actions</strong> &gt; <strong>Create Child Entity</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124234#</span><br/><br/></li><li>Fill in the <strong>Child Entity Name</strong> for the new child entity. The <strong>Master Entity</strong> is already filled. There is also an option to add another parent entity.  Click on <strong>OK</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124235#</span><br/><br/></li><li>The wizard will finish all steps for you - it will create a new entity with a foreign key, a relationship between the entities and also an index for the child entity.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124238#</span><br/><br/></li><li>Now that you have two entities in a relationship, you can finally create the aggregated field. Right-click on your entity that will contain the aggregated field and select <strong>New</strong> &gt; <strong>Aggregated Field</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124196#</span><br/><br/></li><li>The model editor will open. From a drop-down list select the <strong>AggregationType</strong>. Then select the <strong>Relation</strong> from a drop-down list - this is the entity you have created the relationship to. Then from a drop-down list select the <strong>Field</strong> whose values will be aggregated. The <strong>Name</strong> will be filled automatically, but you can change it. The attributes <strong>Caption</strong>, <strong>DataLength</strong> and <strong>DataType</strong> will be inherited from the selected <strong>Field</strong>. Save.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124245#</span><br/><br/></li><li>You have finished creating the aggregated field. One last task remains if you want the field to recalculate automatically with every change in the detail data. You have to add the related entity as a child entity to the master entity's <a href="Data-Structures_1736808.html">data structure</a>. If you don't have one yet, go to <strong>Entities</strong> and right-click on the entity's name and select <strong>Actions</strong> &gt; <strong>Create Data Structure</strong> and it will be generated. <br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124246#</span><br/><br/></li><li> Expand <strong>Data Structures</strong> in the <strong>Data Model</strong> in the Model Browser. Then expand the folder of your project and find the data structure of your master entity. Expand it and then again expand the subfolder <strong>Entities</strong>. Right-click on the entity and select <strong>New</strong> &gt; <strong>Entity</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124248#</span><br/><br/></li><li>In the new tab find the attribute <strong>Entity</strong> and from a drop-down list select your child entity. The <strong>Name</strong> will be filled automatically. Save and you have completed the process of creating an aggregated field.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124249#</span><br/><br/></li></ol><h3 id="Addingfieldstoanentity-LookupField">Lookup Field</h3><ol><li>A <a href="Lookup-Field_8290459.html">lookup field</a> is used to display values from another entity using a <a href="Lookups_1736810.html">lookup</a>. First you must create a lookup for the entity that contains the field with values you want to display. You can find a step by step tutorial how to create a lookup <a href="Creating-a-lookup_12124257.html">here</a>. Then you will also need a foreign key to that entity. A detailed tutorial is <a href="Creating-a-foreign-key_12124203.html">here</a>. Now to create the lookup field right-click on the entity where you want the field placed and select <strong>New</strong> &gt; <strong>Lookup Field</strong>.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124244#</span><br/><br/></li><li>The model editor will open. Fill in the <strong>Name</strong> of the field and the <strong>Caption</strong> (a name shown in the user interface). From a drop-down list select as the <strong>Field</strong> the foreign key pointing to the entity with the looked up values. Finally, as the <strong>Lookup</strong> select your lookup from a drop-down list. Save and the lookup field will appear in your entity.<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">#TODO_FILE:12124259#</span><br/><br/><br/></li></ol><p><span><br/></span></p>
                    </div>

                                                            </div></div><div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 29, 2022 20:33</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
