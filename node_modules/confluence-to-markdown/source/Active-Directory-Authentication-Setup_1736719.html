<!DOCTYPE html>
<html>
    <head>
        <title>ORIGAM Documentation : Active Directory Authentication Setup</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ORIGAM Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Enterprise-Home_589829.html">ORIGAM Enterprise Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Runtime_8716600.html">ORIGAM Runtime</a></span>
                            </li>
                                                    <li>
                                <span><a href="Installation-and-Configuration_1277994.html">Installation and Configuration</a></span>
                            </li>
                                                    <li>
                                <span><a href="Configuration_7831576.html">Configuration</a></span>
                            </li>
                                                    <li>
                                <span><a href="ASP.NET-Membership-Authentication-Configuration_1736717.html">ASP.NET Membership Authentication Configuration</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ORIGAM Documentation : Active Directory Authentication Setup
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Tomáš Vavrda</span>, last modified by <span class='editor'> Petr Hrehorovský</span> on Aug 21, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="ActiveDirectoryAuthenticationSetup-web.config">web.config</h1><p>This entry sets up the correct membership provider.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence" data-theme="Confluence">&lt;system.web&gt;
	&lt;membership defaultProvider=&quot;asapMembershipProvider&quot;&gt;
		&lt;providers&gt;
			&lt;clear /&gt;
			&lt;add name=&quot;asapMembershipProvider&quot; type=&quot;cz.advantages.asap.hosting.utils.LDAPMembershipProvider, LDAPMembershipProvider&quot; defaultDomain=&quot;domain&quot;/&gt;
		&lt;/providers&gt;
	&lt;/membership&gt;
&lt;/system.web&gt;</pre>
</div></div><h1 id="ActiveDirectoryAuthenticationSetup-Startup.cs">Startup.cs</h1><p>This entry sets up a default domain, so the user does not have to enter the domain when he logs in. If you do not specify this entry, the user will have to include the domain with his login (e.g. DOMAIN\user.name).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Default Login Domain</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: c#; gutter: false; theme: Confluence" data-theme="Confluence">public void Configuration(IAppBuilder app)
{
	...
    AbstractUserManager.RegisterCreateUserManagerCallback(
        CreateUserManagerWithDomain);
	...
}

private static AbstractUserManager CreateUserManagerWithDomain()
{
    NetMembershipUserManager userManager = (NetMembershipUserManager)
        NetMembershipUserManager.Create();
    userManager.InjectDomain = &quot;MYDOMAIN&quot;;
    return userManager;
}</pre>
</div></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 29, 2022 20:33</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
