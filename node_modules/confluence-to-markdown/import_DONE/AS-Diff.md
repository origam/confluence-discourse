# AS:Diff

Compares two strings and returns a list of changes.

### Namespace

`xmlns:AS="http://schema.advantages.cz/AsapFunctions"`

### Syntax

``` csharp
Xml Diff(string oldText, string newText)
```

### Parameters

|         |                     |
|---------|---------------------|
| Name    | Description         |
| oldText | Old text to compare |
| newText | New text to compare |

### Remarks

The function returns the following xml:

``` xml
<lines>
    <line changeType="Inserted">inserted line</line>
    <line changeType="Unchanged">unchanged line</line>
    <line changeType="Deleted">deleted line</line>
</lines>
 
```

### Example

**Source**

``` xml
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"
    xmlns:AS="http://schema.advantages.cz/AsapFunctions"
    xmlns:date="http://exslt.org/dates-and-times" exclude-result-prefixes="AS date">

    <xsl:variable name="oldText">first line
    second line
    third line</xsl:variable>
    <xsl:variable name="newText">first radka
    second line - changed
    third line
    fourth line - added</xsl:variable>
    
    <xsl:template match="ROOT">
        <ROOT>
            <xsl:apply-templates select="AS:Diff($oldText, $newText)"/>
        </ROOT>
    </xsl:template>

    <xsl:template match="line">
        <xsl:copy>
            <xsl:copy-of select="@*"/>
            <xsl:value-of select="."/>
        </xsl:copy>
    </xsl:template>
</xsl:stylesheet>
```

**Result**

``` xml
<ROOT>
  <line changeType="Unchanged" position="1">first line</line>
  <line changeType="Deleted">   second line</line>
  <line changeType="Inserted" position="2">   second line - changed</line>
  <line changeType="Unchanged" position="3">  third line</line>
  <line changeType="Inserted" position="4">   fourth line - added</line>
</ROOT>
```
