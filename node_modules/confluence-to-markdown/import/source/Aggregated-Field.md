# Aggregated Field

This field type allows you to create a calculated total field using an aggregate function.

# Attributes

<table class="confluenceTable">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<th class="confluenceTh">Relation</th>
<td class="confluenceTd">Specifies a relation to an entity that contains the fields you want to summarize using an aggregate function.</td>
</tr>
<tr class="even">
<th class="confluenceTh">AggregationType</th>
<td class="confluenceTd">Indicates the aggregate function. Possible values are:
<div class="itemizedlist">
<ul>
<li><p>Count</p></li>
<li><p>Sum</p></li>
<li><p>Average</p></li>
<li><p>Minimum</p></li>
<li><p>Maximum</p></li>
</ul>
</div></td>
</tr>
<tr class="odd">
<th class="confluenceTh">Field</th>
<td class="confluenceTd">Specifies on which column from the entity specified in the Relation attribute the aggregation will occur.</td>
</tr>
</tbody>
</table>

# How It Works

Aggregated fields behave differently depending on how you design your [data structure](/t/Data-Structures).

## Static Aggregation

If your data structure only contains the entity with the aggregated field but not the child-entity from which the aggregation is calculated, then the data will be selected on the database level using an SQL aggregate function.

## Dynamic Aggregation

But you can also include the child entity in the target data structure.

E.g.

-   Invoice
    -   InvoiceDetail

In that case the aggregation will be calculated in-memory and on each change in the detail entity the aggregation will recalculate. This way the user will see the recalculated total automatically after he changes the detail data.

# Example

You want to create a total field `InvoiceTotal` in an entity `Invoice`. This field should give a summary of all `Price` fields in the `InvoiceDetail` entity.

To do this, you create an aggregated field in the `Invoice` entity. It will have the following attributes:

|                 |                 |
|-----------------|-----------------|
| Relation        | `InvoiceDetail` |
| AggregationType | `Sum`           |
| Field           | `Price`         |

This field will then display a total price on the invoice level automatically.
