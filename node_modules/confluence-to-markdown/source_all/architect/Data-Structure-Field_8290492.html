<!DOCTYPE html>
<html>
    <head>
        <title>ORIGAM Documentation : Data Structure Field</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ORIGAM Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Enterprise-Home_589829.html">ORIGAM Enterprise Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Architect_8716616.html">ORIGAM Architect</a></span>
                            </li>
                                                    <li>
                                <span><a href="Model-Reference_4620401.html">Model Reference</a></span>
                            </li>
                                                    <li>
                                <span><a href="Data-Model_1736803.html">Data Model</a></span>
                            </li>
                                                    <li>
                                <span><a href="Data-Structures_1736808.html">Data Structures</a></span>
                            </li>
                                                    <li>
                                <span><a href="Data-Structure-Entity_8290490.html">Data Structure Entity</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ORIGAM Documentation : Data Structure Field
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Tomáš Vavrda</span>, last modified by <span class='editor'> Eva Čechurová</span> on Jul 21, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Data structure fields are used in the following cases:</p><ul><li><span style="line-height: 1.4285715;"><code>AllColumns = False</code> in the data structure entity. You then have to specify the fields which will make up the structure.</span></li><li><span style="line-height: 1.4285715;"><code>AllColumns = True</code> in the data structure entity but you want to add additional fields which either have <code>ExcludeFromAllFields = True</code> in the entity or you want to use <code>UseLookupValue</code> attribute to look-up some other data.</span></li></ul><h1 id="DataStructureField-Attributes"><span style="line-height: 1.4285715;">Attributes</span></h1><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Caption</th><td class="confluenceTd">Overrides a Caption defined in the source <a href="Fields_7831743.html">data entity field</a>. If you need a different caption for the field than defined in the entity, you can define it here.</td></tr><tr><th class="confluenceTh">Field</th><td class="confluenceTd">Selects the source <a href="Fields_7831743.html">data entity field</a>.</td></tr><tr><th class="confluenceTh">DefaultLookup</th><td class="confluenceTd">Overrides a DefaultLookup attribute defined in the source <a href="Fields_7831743.html">data entity field</a>. If you need a different lookup than defined in the source field, you can define it here.</td></tr><tr><th class="confluenceTh">UseLookupValue</th><td class="confluenceTd"><p>If <strong>True</strong>, the column will not contain data defined by the source field (defined in Field), but it will contain data returned by the lookup. The value defined in the Field attribute will be passed to the lookup as a parameter.</p></td></tr></tbody></table></div><h1 id="DataStructureField-UseLookupValueExample">UseLookupValue Example</h1><p>You have an <code>Invoice</code> entity, which contains fields <code>Id, InvoiceNumber</code> and <code>refBusinessPartnerId</code>. You are creating a report in which you want to display the invoice number and business partners's name.</p><p>What you need to do is to create a simple data structure, which will contain the data entity <code>Invoice</code>. You add all the fields (explicitly) and you set the following attributes to the <code>refBusinessPartnerId</code> field:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><td class="confluenceTd">BusinessPartner_Name</td></tr><tr><th class="confluenceTh">UseLookupValue</th><td class="confluenceTd">True</td></tr><tr><th colspan="1" class="confluenceTh">DefaultLookup</th><td colspan="1" class="confluenceTd">BusinessPartner</td></tr></tbody></table></div><p><span style="line-height: 1.4285715;">By doing this, the field will return the business partner's name, instead of the Id, by looking up the name by the Id, which is originally contained in this field.</span></p><p><span style="line-height: 1.4285715;"> </span>In reality it will make the following SQL statement:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: sql; gutter: false; theme: Confluence" data-theme="Confluence">SELECT
	Id,
	InvoiceNumber,
	-- this is the beginning of the lookup produced subquery
	(SELECT BusinessPartner.Name 
		FROM BusinessPartner 
	WHERE 
		BusinessPartner.Id = Invoice.refBusinessPartnerId
	) as BusinessPartner_Name
	-- end of lookup subquery
FROM
	Invoice</pre>
</div></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 29, 2022 20:33</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
