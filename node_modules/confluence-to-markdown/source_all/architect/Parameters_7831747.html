<!DOCTYPE html>
<html>
    <head>
        <title>ORIGAM Documentation : Parameters</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ORIGAM Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Enterprise-Home_589829.html">ORIGAM Enterprise Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="ORIGAM-Architect_8716616.html">ORIGAM Architect</a></span>
                            </li>
                                                    <li>
                                <span><a href="Model-Reference_4620401.html">Model Reference</a></span>
                            </li>
                                                    <li>
                                <span><a href="Data-Model_1736803.html">Data Model</a></span>
                            </li>
                                                    <li>
                                <span><a href="Entities_1736806.html">Entities</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ORIGAM Documentation : Parameters
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Tomáš Vavrda</span>, last modified by <span class='editor'> Eva Čechurová</span> on Jul 20, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="section"><div class="titlepage"><p class="title"><span style="line-height: 1.4285715;">Sometimes you want to select data from a data source depending on a context. E.g. you want to select all invoices for a currently selected business partner in a </span><a href="Sequential-Workflows_4620321.html">sequential workflow</a><span style="line-height: 1.4285715;"> or you need to print an actual invoice by its Id using a </span><a href="Reports_4620323.html">report</a><span style="line-height: 1.4285715;">.</span></p></div><p>In order to be able to filter data using variable values, you have to define the Parameters. You create a parameter by adding a <strong>Parameter</strong> element under an <strong>entity</strong>. Parameter elements give a list of all the possible parameters that you can use. The parameter can be then used (referenced) in a <a href="Function-Call-Field_7832058.html">Function Call Field</a> especially inside an <a href="Filters_7831695.html">entity filter</a><span style="line-height: 1.4285715;">.</span></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Please note that when using the parameters in the data structure filter set the data structure entity name will be added to each parameter. E.g. for the entity <strong>Invoice</strong> with the parameter <strong>parId</strong> the resulting parameter name that will be passed to the data service will be <strong>Invoice_parId</strong>.</p></div></div><div class="table"><h1 class="title" id="Parameters-HowParametersAreUsedInTheDatabaseEngine">How Parameters Are Used In The Database Engine</h1><p>We use parameters because they can have a great impact on the performance as multiple SQL statements can be reused when the parameters have been set correctly. For more information see <a href="http://www.mssqltips.com/sqlservertip/2981/using-parameters-for-sql-server-queries-and-stored-procedures/" class="external-link" rel="nofollow">http://www.mssqltips.com/sqlservertip/2981/using-parameters-for-sql-server-queries-and-stored-procedures/</a>.</p><h1 class="title" id="Parameters-Attributes">Attributes</h1><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">AllowNulls</th><td class="confluenceTd"><strong>True</strong> if this parameter accepts empty values passed to it. If set to <strong>False</strong> and a query is started without this parameter passed in, you will get a runtime error.</td></tr><tr><th class="confluenceTh">DataType</th><td class="confluenceTd">The <a href="Data-Types_7831671.html">Data type</a> of this parameter.</td></tr><tr><th class="confluenceTh">DataLength</th><td class="confluenceTd">In case of a <strong>String</strong> data type, maximum length of the text that can be passed to the parameter.</td></tr></tbody></table></div><h1 id="Parameters-Example">Example</h1></div><div class="example"><p class="title"><span style="line-height: 1.4285715;">You want to retrieve all invoices by a business partner.</span></p><ol><li class="title"><span style="line-height: 1.4285715;">Add a </span><em class="parameter" style="line-height: 1.4285715;"><code>parBusinessPartnerId</code></em><span style="line-height: 1.4285715;"> parameter to the </span><code class="classname" style="line-height: 1.4285715;">Invoice</code><span style="line-height: 1.4285715;"> entity.</span><span style="line-height: 1.4285715;"><br/></span></li><li><p>Create a <a href="Filters_7831695.html">Filter</a> by calling the function <strong>Equal</strong> with the following operands:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Left</th><td class="confluenceTd">Field Reference: <code>refBusinessPartnerId</code></td></tr><tr><th class="confluenceTh">Right</th><td class="confluenceTd">Parameter Reference: <code>parBusinessPartnerId</code></td></tr></tbody></table></div></li><li><p>Use this filter in a <a href="Filter-Sets_7831730.html">data structure filter set</a>. When using this filter, you will have to pass a customer Id to the parameter <strong>Invoice_parBusinessPartnerId</strong>. Only invoices for this customer will be returned.</p></li></ol><p>This will be the resulting SQL statement sent to the database server (Microsoft SQL Server syntax):</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: sql; gutter: false; theme: Confluence" data-theme="Confluence">SELECT Id, Number, Price, ... FROM Invoice WHERE refBusinessPartnerId = @Invoice_parBusinessPartnerId</pre>
</div></div><p>Note that it will be always the same regardless the value passed to the parameter. This way the query can be easily cached both by the ORIGAM runtime and the database server.</p><h1 id="Parameters-SystemParameters">System Parameters</h1></div><p>There are some predefined parameters associated with the with the <a href="IAsapEntity2_7831937.html">IAsapEntity2</a>. These parameters have a special functionality. Actually you can define these parameters on any entity (even one not inherited from IAsapEntity2) since the system parameters are evaluated by their names. All parameters with these names will get a special treatment.</p><p>You do not have to pass any values to these parameters because their values will be automatically assigned by the system on every usage.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">parCurrentDate</th><td class="confluenceTd">Current date (without a time part).</td></tr><tr><th class="confluenceTh">parCurrentDateLastMinute</th><td class="confluenceTd">Current date + 23:59:59. This is useful e.g. for creating filters to get everything for today (<code>BETWEEN parCurrentDate AND parCurrentDateLastMinute</code>).</td></tr><tr><th colspan="1" class="confluenceTh">parCurrentDateTime</th><td colspan="1" class="confluenceTd">Current date and time.</td></tr><tr><th colspan="1" class="confluenceTh">parCurrentUserBusinessUnitId</th><td colspan="1" class="confluenceTd">Current user's business unit id.</td></tr><tr><th colspan="1" class="confluenceTh">parCurrentUserId</th><td colspan="1" class="confluenceTd">Current users's id.</td></tr><tr><th colspan="1" class="confluenceTh">parCurrentUserOrganizationId</th><td colspan="1" class="confluenceTd">Current user's organization id.</td></tr><tr><th colspan="1" class="confluenceTh">parCurrentUserResourceId</th><td colspan="1" class="confluenceTd">Current user's resource id.</td></tr></tbody></table></div></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 29, 2022 20:33</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
